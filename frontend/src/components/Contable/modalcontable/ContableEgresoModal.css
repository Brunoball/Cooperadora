/* ====== :root ROJO (sin degradados) ‚Äî variables con prefijo reg- ====== */
:root {
  /* üé® PALETA ROJA */
  --reg-primary: #B71C1C;          /* Rojo principal */
  --reg-primary-light: #E53935;    /* Rojo claro para focus/hover */
  --reg-primary-dark: #7F0000;     /* Rojo profundo para hover */

  --reg-secondary: #1D428A;        /* Azul secundario opcional */
  --reg-accent: #C62828;

  --reg-success: #10B981;
  --reg-warning: #F59E0B;
  --reg-danger: #D32F2F;

  --reg-light: #F8FAFC;
  --reg-dark: #0F172A;

  --reg-gray-100: #F1F5F9;
  --reg-gray-200: #E2E8F0;
  --reg-gray-300: #CBD5E1;
  --reg-gray-400: #94A3B8;
  --reg-gray-500: #64748B;
  --reg-gray-600: #475569;
  --reg-gray-700: #334155;
  --reg-gray-800: #1E293B;
  --reg-gray-900: #0F172A;

  --reg-border-radius: 12px;
  --reg-border-radius-lg: 16px;
  --reg-border-radius-xl: 20px;

  --reg-transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);

  --reg-shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.05);
  --reg-shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
  --reg-shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
  --reg-shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
}

/* ===== Minimal Modern (MM) variables mapeadas a la paleta ROJA ===== */
:root{
  --mm-bg: rgba(15, 23, 42, 0.55);                /* overlay */
  --mm-panel: #ffffff;
  --mm-surface: var(--reg-light);
  --mm-border: var(--reg-gray-200);
  --mm-text: var(--reg-dark);
  --mm-muted: var(--reg-gray-600);

  --mm-primary: var(--reg-primary);
  --mm-primary-600: var(--reg-primary-dark);
  --mm-danger: var(--reg-danger);

  --mm-radius-lg: var(--reg-border-radius-lg);
  --mm-radius-md: var(--reg-border-radius);

  --mm-shadow-lg: var(--reg-shadow-xl);
  --mm-shadow-md: var(--reg-shadow-lg);
}

/* ===== Overlay con blur suave ===== */
.mm_overlay{
  position: fixed; inset: 0;
  background: var(--mm-bg);
  -webkit-backdrop-filter: blur(4px);
  backdrop-filter: blur(4px);
  display: grid; place-items: center;
  z-index: 9999;
}

/* ===== Panel principal ===== */
.mm_modal{
  width: min(720px, 92vw);
  max-height: 90vh;
  background: var(--mm-panel);
  color: var(--mm-text);
  border: 1px solid var(--mm-border);
  border-radius: var(--mm-radius-lg);
  box-shadow: var(--mm-shadow-lg);
  display: grid;
  grid-template-rows: auto 1fr;
  overflow: hidden;
  animation: mm_pop .18s ease-out;
}
@keyframes mm_pop{
  from{ transform: translateY(8px); opacity: .0;}
  to{ transform: translateY(0); opacity: 1;}
}

/* ===== Header rojo con texto blanco ===== */
.mm_head{
  display:flex; align-items:center; justify-content:space-between;
  padding: 14px 16px;
  border-bottom: 1px solid color-mix(in srgb, var(--mm-primary) 80%, #000 0%);
  background: var(--mm-primary);
}
.mm_title{
  margin:0; font-size: 1rem; font-weight: 800; letter-spacing:.2px;
  color: #fff;                  /* texto blanco */
  display: inline-flex; align-items: center; gap: 10px;
}
.mm_title_icon{
  font-size: 1.05rem;
  filter: drop-shadow(0 1px 0 rgba(0,0,0,.05));
  color: #fff;                  /* √≠cono blanco */
}
/* √çcono de cerrar en header rojo */
.mm_head .mm_icon{
  appearance:none; border:0; background:transparent; color:#fff;
  width:34px; height:34px; border-radius:10px; display:grid; place-items:center; cursor:pointer;
  transition: background .15s ease, color .15s ease, transform .08s ease, box-shadow .15s ease;
}
.mm_head .mm_icon:hover{
  background: color-mix(in srgb, #fff 12%, transparent);
  transform: translateY(-1px);
}
.mm_head .mm_icon:focus-visible{
  outline: 0;
  box-shadow: 0 0 0 3px color-mix(in srgb, #fff 40%, transparent);
}

/* ===== Body con scroll interno ===== */
.mm_body{
  padding: 14px 16px 10px;
  overflow: auto;
}

/* ===== Grid de filas ===== */
.mm_row{
  display:grid;
  grid-template-columns: 1fr 1fr;
  gap: 12px;
  margin-bottom: 12px;
}
.mm_row .grow{ grid-column: span 2; }
@media (max-width: 680px){
  .mm_row{ grid-template-columns: 1fr; }
  .mm_row .grow{ grid-column: span 1; }
}

/* ===== Campo con floating label ===== */
.mm_field{
  position: relative;
  display: grid;
}
.mm_field input,
.mm_field select{
  width:100%;
  padding: 12px 12px;
  border:1px solid var(--mm-border);
  border-radius: 10px;
  background: #fff;
  color: var(--mm-text);
  font-size:.95rem;
  transition: border-color .15s ease, box-shadow .15s ease, background .15s ease;
}
.mm_field select{
  appearance:none;
  background-image:
    linear-gradient(45deg, transparent 50%, var(--reg-gray-400) 50%),
    linear-gradient(135deg, var(--reg-gray-400) 50%, transparent 50%);
  background-position: calc(100% - 16px) calc(1em + 2px), calc(100% - 12px) calc(1em + 2px);
  background-size: 6px 6px, 6px 6px;
  background-repeat: no-repeat;
}
.mm_field input::placeholder{ color: transparent; }
.mm_field input:focus,
.mm_field select:focus{
  outline: none;
  border-color: var(--mm-primary);
  box-shadow: 0 0 0 4px color-mix(in srgb, var(--mm-primary) 20%, transparent);
  background:#fff;
}
.mm_field label{
  position:absolute; pointer-events:none; left:12px; top:12px;
  color: var(--mm-muted); font-size:.9rem; transition: .15s ease; background:#fff; padding:0 4px;
}
.mm_field input:not(:placeholder-shown) + label,
.mm_field input:focus + label,
.mm_field select:focus + label{
  top:-7px; font-size:.75rem; color: var(--mm-primary-600);
}

/* ===== Floating label SIEMPRE activo (para el select "Medio") ===== */
.mm_field.always-float label{
  top: -7px;
  font-size: .75rem;
  color: var(--mm-primary-600);
}
.mm_field.always-float select{
  padding-top: 16px; /* separa contenido del label flotado */
}

/* ===== Superficies limpias ===== */
.mm_surface{
  background:#fff; border:1px solid var(--mm-border);
  border-radius: var(--mm-radius-md);
}

/* ===== Dropzone minimal ===== */
.dz_wrap{ margin-top: 6px; }
.dz_area{
  padding: 14px; text-align:center;
  transition: border-color .15s ease, background .15s ease;
}
.dz_area:hover, .dz_area.dz_over{
  background: var(--mm-surface);
  border-color: var(--mm-primary);
}

/* √çcono grande y content centrado */
.dz_header{
  display: grid;
  place-items: center;
  gap: 12px;
  text-align: center;
}
/* Icono base y versi√≥n grande */
.dz_icon{ color: var(--mm-primary); font-size: 1.2rem; }
.dz_icon--lg{
  font-size: 48px;
  width: 84px;
  height: 84px;
  display: grid;
  place-items: center;
  border-radius: 20px;
  background: var(--mm-surface);
  border: 1px solid var(--mm-border);
  box-shadow: var(--mm-shadow-md);
}
/* fallback si no quer√©s contenedor */
.dz_header .dz_icon{ font-size: 48px; }

.dz_text{ color: var(--mm-muted); line-height: 1.3; }
.dz_text span{ color: var(--mm-primary-600); font-weight:700; margin: 0 4px; }

.dz_preview{ margin-top: 12px; display:grid; place-items:center; gap:10px; }
.dz_thumb{
  max-width: 200px; max-height: 160px; border-radius: 10px; border:1px solid var(--mm-border); object-fit: contain;
}
.dz_pdf{
  padding:6px 10px; border:1px solid var(--mm-border); border-radius:999px;
  background: var(--mm-surface); font-weight:700; color: var(--mm-primary-600);
}
.dz_actions{ display:flex; gap:8px; }
.dz_hint{ margin-top: 8px; font-size:.85rem; color: var(--mm-muted); }

/* Nombre del archivo (si viene URL backend) */
.dz_file{
  margin-top: 4px;
  font-size: .9rem;
  color: var(--mm-muted);
  font-weight: 700;
  text-align: center;
  word-break: break-all;
}

/* ===== Botones ===== */
.mm_btn{
  appearance:none; border:1px solid var(--mm-border); background:#fff; color:var(--mm-text);
  padding: 10px 14px; border-radius: 10px; font-weight:700; cursor:pointer;
  display:inline-flex; align-items:center; gap:8px;
  transition: background .15s ease, color .15s ease, border-color .15s ease, transform .08s ease, box-shadow .15s ease;
}
.mm_btn:hover{ transform: translateY(-1px); }
.mm_btn:focus-visible{ outline:0; box-shadow:0 0 0 4px color-mix(in srgb, var(--mm-primary) 20%, transparent); }

/* Guardar (primary): normal rojo con texto blanco; hover INVERTIDO */
.mm_btn.primary{
  background: var(--mm-primary);
  color:#fff;
  border-color: transparent;
}
.mm_btn.primary:hover{
  background: #fff;                 /* invierte */
  color: var(--mm-primary);         /* invierte */
  border-color: var(--mm-primary);
}

/* Cancelar (ghost): normal blanco con texto default; hover INVERTIDO (rojo/blanco) */
.mm_btn.ghost{
  background:#fff;
  color: var(--mm-text);
  border-color: var(--mm-border);
}
.mm_btn.ghost:hover{
  background: var(--mm-primary);    /* invierte */
  color:#fff;                       /* invierte */
  border-color: transparent;
}

/* Danger por si lo us√°s en Quitar */
.mm_btn.danger{
  background:#fee2e2; color:#991b1b; border-color:#fecaca;
}
.mm_btn.danger:hover{
  background:#991b1b; color:#fff; border-color: #991b1b;
}

/* ===== Footer sticky ===== */
.mm_footer{ background: #fff;
  display:flex; justify-content:flex-end; gap:10px; padding: 12px;
}

/* ===== Viewer minimal ===== */
.viewer_overlay{
  position: fixed; inset:0; background: rgba(0,0,0,.55);
  display:grid; place-items:center; z-index: 10000;
  -webkit-backdrop-filter: blur(2px); backdrop-filter: blur(2px);
}
.viewer{
  width:min(920px,94vw); height:min(80vh, 820px);
  background:#fff; border:1px solid var(--mm-border);
  border-radius: var(--mm-radius-lg); box-shadow: var(--mm-shadow-md);
  display:grid; grid-template-rows:auto 1fr; overflow:hidden;
}
.viewer_toolbar{
  display:flex; align-items:center; gap:8px; justify-content:flex-end;
  padding:8px 10px; border-bottom:1px solid var(--mm-border); background:#fff;
}
.zoom_label{ color: var(--mm-muted); font-weight:700; min-width:48px; text-align:center; }
.viewer_body{ overflow:auto; background:#111; display:grid; place-items:center; }
.viewer_img{ max-width:100%; max-height:100%; transition: transform .1s ease-out; transform-origin:center; }
.viewer_pdf{ width:100%; height:100%; border:0; }

/* ===== Accesibilidad ===== */
.mm_btn:disabled{ opacity:.55; cursor:not-allowed; transform:none; box-shadow:none; }
/* ===== ICONOS EN CAMPOS ===== */
.mm_field.has-icon input,
.mm_field.has-icon select {
  padding-left: 40px;             /* espacio para el icono */
}

/* El icono adentro del campo */
.mm_iconField{
  position: absolute;
  left: 10px;
  top: 50%;
  translate: 0 -50%;
  display: inline-grid;
  place-items: center;
  width: 22px;
  height: 22px;
  color: var(--mm-muted);
  pointer-events: none;
}

/* Cuando hay focus, pintar icono acorde */
.mm_field input:focus ~ .mm_iconField,
.mm_field select:focus ~ .mm_iconField {
  color: var(--mm-primary);
}

/* Asegura que el label no tape el icono cuando flota */
.mm_field.has-icon label{
  padding-left: 22px;
}

/* Select con icono + label siempre flotado necesita un poquito m√°s de padding superior */
.mm_field.always-float.has-icon select{
  padding-top: 18px;
}


.date-no-native::-webkit-calendar-picker-indicator{
  opacity: 0 !important;
  display: none !important;
}
.date-no-native::-webkit-inner-spin-button,
.date-no-native::-webkit-clear-button{
  display: none;
}

/* Firefox: oculta el icono (sin romper el picker con Alt+‚Üì) */
@-moz-document url-prefix() {
  .date-no-native {
    background-image: none !important;
  }
}

/* Edge (Chromium) queda cubierto por el -webkit- */

/* ===== (OPCIONAL) Cursor de mano sobre select e inputs para consistencia ===== */
.mm_field input,
.mm_field select{
  cursor: text;
}
.mm_field select{
  cursor: pointer;
}

/* ===== (ya ten√≠as) ‚Äî aseg√∫rate que el resto de tu CSS siga igual ===== */

/* ...(mantener TODO tu CSS previo tal como lo pegaste)... */
/* ===== Viewer toolbar ‚Äì estilo compacto y limpio ===== */
.viewer_toolbar{
  position: sticky;                /* queda fija si hay scroll interno */
  top: 0;
  display: flex;
  align-items: center;
  gap: 10px;
  justify-content: flex-end;
  padding: 10px 12px;
  background:
    linear-gradient(180deg, #fff 0%, color-mix(in srgb, #fff 85%, var(--mm-border)) 100%);
  border-bottom: 1px solid var(--mm-border);
  box-shadow: 0 1px 0 rgba(0,0,0,.03);
  z-index: 2;
}

/* √çconos redondos (zoom +/-, reset, cerrar) dentro del viewer */
.viewer_toolbar .mm_icon{
  width: 34px;
  height: 34px;
  border-radius: 10px;
  border: 1px solid var(--mm-border);
  background: var(--mm-surface);
  color: var(--mm-text);
  display: grid;
  place-items: center;
  transition: var(--reg-transition);
}
.viewer_toolbar .mm_icon:hover{
  transform: translateY(-1px);
  border-color: var(--mm-primary);
  box-shadow: 0 2px 8px rgba(0,0,0,.06);
  color: var(--mm-primary);
  background: #fff;
}
.viewer_toolbar .mm_icon:active{
  transform: translateY(0);
  box-shadow: none;
}

/* Bot√≥n ‚ÄúAbrir en pesta√±a‚Äù dentro del visor */
.viewer_toolbar .mm_btn{
  padding: 8px 12px;
  height: 34px;
  border-radius: 10px;
  font-size: .9rem;
  border: 1px solid var(--mm-border);
  background: #fff;
  color: var(--mm-text);
  transition: var(--reg-transition);
}
.viewer_toolbar .mm_btn:hover{
  transform: translateY(-1px);
  border-color: var(--mm-primary);
  color: var(--mm-primary);
  box-shadow: 0 2px 8px rgba(0,0,0,.06);
}
.viewer_toolbar .mm_btn:active{
  transform: translateY(0);
  box-shadow: none;
}

/* Etiqueta de zoom m√°s sobria */
.viewer_toolbar .zoom_label{
  color: var(--mm-muted);
  font-weight: 700;
  min-width: 48px;
  text-align: center;
  padding: 0 4px;
}

/* ===== Botones de acciones (previsualizaci√≥n de archivo) ===== */
.dz_actions{
  display: flex;
  gap: 8px;
  flex-wrap: wrap;
}
.dz_actions .mm_btn{
  padding: 8px 12px;
  height: 34px;
  border-radius: 10px;
  font-size: .9rem;
  border: 1px solid var(--mm-border);
  background: #fff;
  color: var(--mm-text);
  transition: var(--reg-transition);
}
.dz_actions .mm_btn:hover{
  transform: translateY(-1px);
  border-color: var(--mm-primary);
  color: var(--mm-primary);
  box-shadow: 0 2px 8px rgba(0,0,0,.06);
}
.dz_actions .mm_btn.danger{
  background: #fee2e2;
  color: #991b1b;
  border-color: #fecaca;
}
.dz_actions .mm_btn.danger:hover{
  background: #991b1b;
  color: #fff;
  border-color: #991b1b;
}

/* Tama√±o de iconos dentro de botones peque√±os */
.viewer_toolbar .mm_icon svg,
.viewer_toolbar .mm_btn svg,
.dz_actions .mm_btn svg{
  width: 16px;
  height: 16px;
}
